"use strict";(globalThis["webpackChunkaies"]=globalThis["webpackChunkaies"]||[]).push([[5633],{5633:(a,e,l)=>{l.r(e),l.d(e,{default:()=>C});var n=l(9835);const t={class:"q-px-xl q-pb-xl q-pt-lg column q-gutter-y-lg"},o=(0,n._)("div",{class:"text-h5"},"Update Account Details",-1),i={class:"column q-gutter-y-md q-mb-lg"},u={class:"q-px-lg"};function d(a,e,l,d,s,m){const r=(0,n.up)("q-input"),c=(0,n.up)("q-checkbox"),p=(0,n.up)("q-btn"),b=(0,n.up)("q-form"),f=(0,n.up)("q-card"),g=(0,n.up)("q-spinner-ios"),h=(0,n.up)("q-inner-loading"),q=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(q,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{flat:"",class:"q-mb-xl"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{ref:"accountUpdateForm",onSubmit:a.submitData},{default:(0,n.w5)((()=>[(0,n._)("div",t,[o,(0,n._)("div",i,[(0,n.Wm)(r,{modelValue:a.formData.code,"onUpdate:modelValue":e[0]||(e[0]=e=>a.formData.code=e),modelModifiers:{trim:!0},label:"Code"},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:a.formData.name,"onUpdate:modelValue":e[1]||(e[1]=e=>a.formData.name=e),modelModifiers:{trim:!0},label:"Name","lazy-rules":"ondemand",rules:a.textInputRequiredRules()},null,8,["modelValue","rules"]),(0,n.Wm)(r,{modelValue:a.formData.opening_balance,"onUpdate:modelValue":e[2]||(e[2]=e=>a.formData.opening_balance=e),modelModifiers:{number:!0},label:"Opening Balance",type:"number","lazy-rules":"ondemand",rules:a.numberInputRequiredRules()},null,8,["modelValue","rules"]),(0,n.Wm)(c,{modelValue:a.formData.cash_analysis,"onUpdate:modelValue":e[3]||(e[3]=e=>a.formData.cash_analysis=e),label:"Add to Cash Analysis"},null,8,["modelValue"]),(0,n._)("div",u,[(0,n.Wm)(p,{rounded:"",class:"full-width",color:"primary",label:"Update",type:"submit",loading:a.submitting},null,8,["loading"])])])])])),_:1},8,["onSubmit"])])),_:1}),(0,n.Wm)(h,{dark:"",color:"primary",showing:a.loadingData},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{size:"50px",color:"white"})])),_:1},8,["showing"])])),_:1})}var s=l(499),m=l(9302),r=l(8221),c=l(4019),p=l(1353),b=l(1809);const f=(0,n.aZ)({name:"AccountsDetailsEdit",props:["id"],setup(a){const e=(0,m.Z)(),l=(0,p.F)(),{fiscalYear:t}=(0,b.Jk)(l),o=(0,s.iH)(!0),i=(0,s.iH)({}),u=(0,s.iH)(null),d=(0,s.iH)(!1);function f(){return o.value=!0,(0,c.getAccount)(a.id).then((a=>{let e=a.data;i.value={code:e.code?e.code:"",name:e.name,opening_balance:e.opening_balance,cash_analysis:!(!e.additional_data.CASH_ANALYSIS||!e.additional_data.CASH_ANALYSIS.enabled)}})).finally((()=>{o.value=!1}))}return(0,n.bv)((()=>{f()})),{formData:i,accountUpdateForm:u,loadingData:o,submitting:d,submitData(){u.value.validate().then((l=>{l&&e.dialog({title:"Confirmation",message:"Confirm update",cancel:!0}).onOk((()=>{d.value=!0,(0,c.updateAccount)(a.id,{...i.value}).then((a=>{(0,r.displayNotification)(a.data,"positive"),u.value.resetValidation(),f()})).catch((a=>{(0,r.displayNotification)(a.response.data,"negative")})).finally((()=>{d.value=!1}))}))}))}}}});var g=l(1639),h=l(9885),q=l(4458),v=l(8326),_=l(6611),y=l(1221),D=l(8879),V=l(854),A=l(8359),w=l(9984),Z=l.n(w);const x=(0,g.Z)(f,[["render",d]]),C=x;Z()(f,"components",{QPage:h.Z,QCard:q.Z,QForm:v.Z,QInput:_.Z,QCheckbox:y.Z,QBtn:D.Z,QInnerLoading:V.Z,QSpinnerIos:A.Z})}}]);