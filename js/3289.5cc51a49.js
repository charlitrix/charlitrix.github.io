"use strict";(globalThis["webpackChunkaies"]=globalThis["webpackChunkaies"]||[]).push([[3289],{3289:(a,l,e)=>{e.r(l),e.d(l,{default:()=>ll});var t=e(9835),n=e(6970);const s=a=>((0,t.dD)("data-v-266e8806"),a=a(),(0,t.Cn)(),a),o={class:"row q-mb-lg justify-between"},u={class:"row q-gutter-x-xl"},r={class:"row items-center q-gutter-x-md"},_={key:0,class:"text-grey-9 q-ml-sm"},i={key:1,class:"text-grey-9 q-ml-sm"},d={class:"row justify-end"},c={key:0,class:"text-grey-9 q-ml-sm"},m={key:1,class:"text-grey-9 q-ml-sm"},p={class:"row justify-end"},g={class:"row items-center"},b={id:"reportToPrint"},D={colspan:"100%"},w=s((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Details"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Amount")])],-1))),h=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Sales"),(0,t._)("td"),(0,t._)("td")],-1))),f=s((()=>(0,t._)("td",null,"Bar sales",-1))),v=s((()=>(0,t._)("td",null,null,-1))),x=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Less: COGS"),(0,t._)("td"),(0,t._)("td")],-1))),k=s((()=>(0,t._)("td",null,"Opening Stock",-1))),P=s((()=>(0,t._)("td",null,null,-1))),S=s((()=>(0,t._)("td",null,"Add: Purchases",-1))),z=s((()=>(0,t._)("td",null,null,-1))),y=s((()=>(0,t._)("td",null,"Less: Damages",-1))),T=s((()=>(0,t._)("td",null,null,-1))),q=s((()=>(0,t._)("td",null,"Cost of Goods available for Sale",-1))),C=s((()=>(0,t._)("td",null,null,-1))),W=s((()=>(0,t._)("td",null,"Less: Closing stock",-1))),A=s((()=>(0,t._)("td",null,null,-1))),Z=s((()=>(0,t._)("td",null,"Cost of Goods Sold",-1))),H=s((()=>(0,t._)("td",null,null,-1))),F={class:"text-weight-medium"},Y=s((()=>(0,t._)("td",null,"Gross Profit",-1))),Q=s((()=>(0,t._)("td",null,null,-1))),V={colspan:"100%"},O=s((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Details"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Amount")])],-1))),G=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Sales"),(0,t._)("td"),(0,t._)("td")],-1))),L=s((()=>(0,t._)("td",null,"Kitchen Sales",-1))),I=s((()=>(0,t._)("td",null,null,-1))),U=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Less: Purchases"),(0,t._)("td"),(0,t._)("td")],-1))),R=s((()=>(0,t._)("td",null,"Kitchen Purchases",-1))),K=s((()=>(0,t._)("td",null,null,-1))),M={class:"text-weight-medium"},j=s((()=>(0,t._)("td",null,"Gross Profit",-1))),E=s((()=>(0,t._)("td",null,null,-1))),N={colspan:"100%"},B=s((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Details"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Amount")])],-1))),$=s((()=>(0,t._)("td",null,"Sales",-1))),J=s((()=>(0,t._)("td",null,null,-1))),X=s((()=>(0,t._)("td",null,null,-1))),aa={class:"text-weight-medium"},la=s((()=>(0,t._)("td",null,"Net Sales",-1))),ea=s((()=>(0,t._)("td",null,null,-1))),ta={colspan:"100%"},na=s((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Details"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Amount")])],-1))),sa=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Sales"),(0,t._)("td"),(0,t._)("td")],-1))),oa=s((()=>(0,t._)("td",null,null,-1))),ua=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Less Expenses"),(0,t._)("td"),(0,t._)("td")],-1))),ra=s((()=>(0,t._)("td",null,null,-1))),_a={class:"text-weight-medium"},ia=s((()=>(0,t._)("td",null,"Total Sales",-1))),da=s((()=>(0,t._)("td",null,null,-1))),ca={colspan:"100%"},ma=s((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Details"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Amount")])],-1))),pa=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Income"),(0,t._)("td"),(0,t._)("td")],-1))),ga=s((()=>(0,t._)("td",null,"Gross Profit - Beverages",-1))),ba=s((()=>(0,t._)("td",null,null,-1))),Da=s((()=>(0,t._)("td",null,"Gross Profit - Food & Coffee",-1))),wa=s((()=>(0,t._)("td",null,null,-1))),ha=s((()=>(0,t._)("td",null,"Net Room Sales",-1))),fa=s((()=>(0,t._)("td",null,null,-1))),va=s((()=>(0,t._)("td",null,"Other Services Net Sales",-1))),xa=s((()=>(0,t._)("td",null,null,-1))),ka={class:"text-weight-medium"},Pa=s((()=>(0,t._)("td",null,"Total Income",-1))),Sa=s((()=>(0,t._)("td",null,null,-1))),za=s((()=>(0,t._)("tr",null,[(0,t._)("td",{class:"text-weight-medium"},"Less Operating Expenses"),(0,t._)("td"),(0,t._)("td")],-1))),ya=s((()=>(0,t._)("td",null,null,-1))),Ta={class:"text-weight-medium"},qa=s((()=>(0,t._)("td",null,"Total Expenditure",-1))),Ca=s((()=>(0,t._)("td",null,null,-1))),Wa={class:"text-weight-medium text-uppercase text-h5"},Aa=s((()=>(0,t._)("td",null,"Net Profit",-1))),Za=s((()=>(0,t._)("td",null,null,-1)));function Ha(a,l,e,s,Ha,Fa){const Ya=(0,t.up)("q-select"),Qa=(0,t.up)("q-btn"),Va=(0,t.up)("q-date"),Oa=(0,t.up)("q-popup-proxy"),Ga=(0,t.up)("q-field"),La=(0,t.up)("q-separator"),Ia=(0,t.up)("q-markup-table"),Ua=(0,t.up)("q-spinner-ios"),Ra=(0,t.up)("q-inner-loading"),Ka=(0,t.up)("q-page"),Ma=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Ka,{class:"q-pa-xl"},{default:(0,t.w5)((()=>[(0,t._)("div",o,[(0,t._)("div",u,[(0,t._)("div",null,[(0,t.Wm)(Ya,{dense:"",outlined:"","emit-value":"","map-options":"","options-cover":"","option-label":"label","option-value":"value",modelValue:a.selectedFilter,"onUpdate:modelValue":[l[0]||(l[0]=l=>a.selectedFilter=l),a.filterOptionChanged],options:a.filterOptions},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,t._)("div",null,[(0,t._)("div",r,[(0,t.Wm)(Ga,{"stack-label":"",dense:"",borderless:""},{control:(0,t.w5)((()=>[(0,t.Uk)(" From: "),a.fromDate?((0,t.wg)(),(0,t.iD)("span",_,(0,n.zw)(a.fromDate),1)):((0,t.wg)(),(0,t.iD)("span",i,"Select date"))])),append:(0,t.w5)((()=>[(0,t.Wm)(Qa,{flat:"",dense:"",color:"primary",icon:"calendar_month"},{default:(0,t.w5)((()=>[(0,t.Wm)(Oa,{ref:"fromDateDialog"},{default:(0,t.w5)((()=>[(0,t.Wm)(Va,{modelValue:a.fromDate,"onUpdate:modelValue":[l[1]||(l[1]=l=>a.fromDate=l),a.fromDateChanged],mask:"DD/MM/YYYY"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t.wy)((0,t.Wm)(Qa,{flat:"",label:"Close",color:"primary"},null,512),[[Ma]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1},512)])),_:1})])),_:1}),(0,t.Wm)(Ga,{"stack-label":"",dense:"",borderless:""},{control:(0,t.w5)((()=>[(0,t.Uk)("To: "),a.toDate?((0,t.wg)(),(0,t.iD)("span",c,(0,n.zw)(a.toDate),1)):((0,t.wg)(),(0,t.iD)("span",m,"Select date"))])),append:(0,t.w5)((()=>[(0,t.Wm)(Qa,{flat:"",dense:"",color:"primary",icon:"calendar_month"},{default:(0,t.w5)((()=>[(0,t.Wm)(Oa,{ref:"toDateDialog"},{default:(0,t.w5)((()=>[(0,t.Wm)(Va,{modelValue:a.toDate,"onUpdate:modelValue":[l[2]||(l[2]=l=>a.toDate=l),a.toDateChanged],mask:"DD/MM/YYYY"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.wy)((0,t.Wm)(Qa,{flat:"",label:"Close",color:"primary"},null,512),[[Ma]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1},512)])),_:1})])),_:1})])])]),(0,t._)("div",g,[(0,t.Wm)(Qa,{unelevated:"",flat:"","no-caps":"",icon:"print",color:"primary",label:"Print",onClick:l[3]||(l[3]=l=>a.printDocument("reportToPrint",a.printingSettings))}),(0,t.Wm)(La,{vertical:""}),(0,t.Wm)(Qa,{unelevated:"",flat:"","no-caps":"",icon:"file_download",color:"grey-9",label:"Download",onClick:l[4]||(l[4]=l=>a.printDocumentPDF("reportToPrint"))})])]),(0,t._)("div",null,[(0,t._)("div",b,[a.pageData.id?((0,t.wg)(),(0,t.j4)(Ia,{key:0,bordered:"",flat:"",square:"",separator:"cell"},{default:(0,t.w5)((()=>[(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",D," Trading Account For Beverages as at "+(0,n.zw)(a.toDate),1)])]),w,(0,t._)("tbody",null,[h,(0,t._)("tr",null,[f,v,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.sales.total_balance)),1)]),x,(0,t._)("tr",null,[k,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.opening_stock.total_balance)),1),P]),(0,t._)("tr",null,[S,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.expenses.total_balance)),1),z]),(0,t._)("tr",null,[y,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.damages.total_balance)),1),T]),(0,t._)("tr",null,[q,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance)),1),C]),(0,t._)("tr",null,[W,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.closing_stock.total_balance)),1),A]),(0,t._)("tr",null,[Z,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance-a.pageData.bar.closing_stock.total_balance,{absolute:!1})),1),H]),(0,t._)("tr",F,[Y,Q,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.sales.total_balance-(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance-a.pageData.bar.closing_stock.total_balance),{absolute:!1})),1)])]),(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",V," Trading Account For Food and Coffee as at "+(0,n.zw)(a.toDate),1)])]),O,(0,t._)("tbody",null,[G,(0,t._)("tr",null,[L,I,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.kitchen.sales.total_balance)),1)]),U,(0,t._)("tr",null,[R,K,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.kitchen.expenses.total_balance)),1)]),(0,t._)("tr",M,[j,E,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.kitchen.sales.total_balance-a.pageData.kitchen.expenses.total_balance,{absolute:!1})),1)])]),(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",N," Trading Account For Rooms as at "+(0,n.zw)(a.toDate),1)])]),B,(0,t._)("tbody",null,[(0,t._)("tr",null,[$,J,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.rooms.sales.total_balance)),1)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.pageData.rooms.expenses,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,"Less "+(0,n.zw)(l.name),1),X,(0,t._)("td",null,(0,n.zw)(a.formatPrice(l.total_balance)),1)])))),128)),(0,t._)("tr",aa,[la,ea,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.rooms.sales.total_balance-a.itemsSum(a.pageData.rooms.expenses,"total_balance"))),1)])]),(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",ta," Trading Account For Other Services as at "+(0,n.zw)(a.toDate),1)])]),na,(0,t._)("tbody",null,[sa,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.pageData.services.sales,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(l.name),1),oa,(0,t._)("td",null,(0,n.zw)(a.formatPrice(l.total_balance)),1)])))),128)),ua,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.pageData.services.expenses,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(l.name)+" Expense",1),ra,(0,t._)("td",null,(0,n.zw)(a.formatPrice(l.total_balance)),1)])))),128)),(0,t._)("tr",_a,[ia,da,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.itemsSum(a.pageData.services.sales,"total_balance")-a.itemsSum(a.pageData.services.expenses,"total_balance"))),1)])]),(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",ca," Trading LOSS/PROFIT Account as at "+(0,n.zw)(a.toDate),1)])]),ma,(0,t._)("tbody",null,[pa,(0,t._)("tr",null,[ga,ba,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.sales.total_balance-(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance-a.pageData.bar.closing_stock.total_balance),{absolute:!1})),1)]),(0,t._)("tr",null,[Da,wa,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.kitchen.sales.total_balance-a.pageData.kitchen.expenses.total_balance,{absolute:!1})),1)]),(0,t._)("tr",null,[ha,fa,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.rooms.sales.total_balance-a.itemsSum(a.pageData.rooms.expenses,"total_balance"))),1)]),(0,t._)("tr",null,[va,xa,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.itemsSum(a.pageData.services.sales,"total_balance")-a.itemsSum(a.pageData.services.expenses,"total_balance"))),1)]),(0,t._)("tr",ka,[Pa,Sa,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.sales.total_balance-(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance-a.pageData.bar.closing_stock.total_balance)+a.pageData.kitchen.sales.total_balance-a.pageData.kitchen.expenses.total_balance+a.pageData.rooms.sales.total_balance-a.itemsSum(a.pageData.rooms.expenses,"total_balance")+a.itemsSum(a.pageData.services.sales,"total_balance")-a.itemsSum(a.pageData.services.expenses,"total_balance"),{absolute:!1})),1)]),za,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.pageData.general_expenses,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(l.name),1),ya,(0,t._)("td",null,(0,n.zw)(a.formatPrice(l.total_balance)),1)])))),128)),(0,t._)("tr",Ta,[qa,Ca,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.itemsSum(a.pageData.general_expenses,"total_balance"))),1)]),(0,t._)("tr",Wa,[Aa,Za,(0,t._)("td",null,(0,n.zw)(a.formatPrice(a.pageData.bar.sales.total_balance-(a.pageData.bar.opening_stock.total_balance+a.pageData.bar.expenses.total_balance-a.pageData.bar.damages.total_balance-a.pageData.bar.closing_stock.total_balance)+a.pageData.kitchen.sales.total_balance-a.pageData.kitchen.expenses.total_balance+a.pageData.rooms.sales.total_balance-a.itemsSum(a.pageData.rooms.expenses,"total_balance")+a.itemsSum(a.pageData.services.sales,"total_balance")-a.itemsSum(a.pageData.services.expenses,"total_balance")-a.itemsSum(a.pageData.general_expenses,"total_balance"),{absolute:!1})),1)])])])),_:1})):(0,t.kq)("",!0)]),(0,t.Wm)(Ra,{label:"Please wait",showing:a.loadingData},{default:(0,t.w5)((()=>[(0,t.Wm)(Ua,{size:"50px",color:"primary"})])),_:1},8,["showing"])])])),_:1})}var Fa=e(9302),Ya=e(499),Qa=e(4019);e(8221);const Va=(0,t.aZ)({name:"ReportsIndex",setup(){(0,Fa.Z)();const a=(0,Ya.iH)({}),l=(0,Ya.iH)(!1),e=(0,Ya.iH)(),n=(0,Ya.iH)(),s=(0,Ya.iH)("1"),o=(0,Ya.iH)("?month"),u=(0,Ya.iH)("month"),r=[{label:"Select Period",value:null,disable:!0},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"}],_=(0,Ya.iH)(""),i=(0,Ya.iH)(""),d=(0,Ya.iH)({});function c(){o.value=`?from_date=${_.value}&to_date=${i.value}`,m(),u.value=null}function m(){return l.value=!0,a.value={},(0,Qa.getGeneralReport)(o.value).then((l=>{a.value=l.data})).finally((()=>{l.value=!1}))}function p(){return(0,Qa.getGeneralSettings)("?name=PRINTERS").then((a=>{d.value=a.data.details["items"].find((a=>"rooms receipts"==a.item))||a.data.details["items"].find((a=>"receipts"==a.item))}))}return(0,t.bv)((()=>{m().then((()=>{p()}))})),{pageData:a,loadingData:l,toDateDialog:e,fromDateDialog:n,fromDate:_,toDate:i,tabs:s,selectedFilter:u,filterOptions:r,printingSettings:d,fromDateChanged(a,l,e){null!=_.value&&null!=i.value&&c(),n.value.hide()},toDateChanged(a,l,t){null!=_.value&&null!=i.value&&c(),e.value.hide()},filterOptionChanged(a){a&&(_.value=null,i.value=null,o.value=`?filter=${a}`,m())}}}});var Oa=e(1639),Ga=e(9885),La=e(4581),Ia=e(8149),Ua=e(8879),Ra=e(2765),Ka=e(4351),Ma=e(926),ja=e(6933),Ea=e(854),Na=e(8359),Ba=e(7355),$a=e(2146),Ja=e(9984),Xa=e.n(Ja);const al=(0,Oa.Z)(Va,[["render",Ha],["__scopeId","data-v-266e8806"]]),ll=al;Xa()(Va,"components",{QPage:Ga.Z,QSelect:La.Z,QField:Ia.Z,QBtn:Ua.Z,QPopupProxy:Ra.Z,QDate:Ka.Z,QSeparator:Ma.Z,QMarkupTable:ja.Z,QInnerLoading:Ea.Z,QSpinnerIos:Na.Z,QTable:Ba.Z}),Xa()(Va,"directives",{ClosePopup:$a.Z})}}]);