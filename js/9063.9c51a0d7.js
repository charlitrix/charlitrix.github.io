"use strict";(globalThis["webpackChunkaies"]=globalThis["webpackChunkaies"]||[]).push([[9063],{9063:(a,e,l)=>{l.r(e),l.d(e,{default:()=>A});var t=l(9835),s=l(6970);const i={class:"row justify-around text-weight-bold q-mt-md items-center"},o={class:"row q-gutter-x-md"},r=(0,t._)("div",null,"Total Sales:",-1),n={key:0},d={key:1},m={class:"row q-gutter-x-md"},u=(0,t._)("div",null,"Paid Sales:",-1),p={key:0},c={key:1},g={class:"row q-gutter-x-md"},b=(0,t._)("div",null,"Credit Sales:",-1),w={key:0},f={key:1},y={class:"row no-wrap q-col-gutter-x-md"},S={key:0};function v(a,e,l,v,_,q){const h=(0,t.up)("q-skeleton"),k=(0,t.up)("q-separator"),D=(0,t.up)("q-icon"),x=(0,t.up)("q-input"),P=(0,t.up)("q-btn"),Z=(0,t.up)("q-td"),R=(0,t.up)("q-table"),W=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(W,{class:"q-ma-xl"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("div",o,[r,(0,t._)("div",null,[a.loadingSalesSummary?((0,t.wg)(),(0,t.iD)("span",n,[(0,t.Wm)(h,{type:"rect",width:"120px"})])):((0,t.wg)(),(0,t.iD)("span",d,(0,s.zw)(a.formatPrice(a.salesSummaryData.total_sales)),1))])]),(0,t._)("div",m,[u,(0,t._)("div",null,[a.loadingSalesSummary?((0,t.wg)(),(0,t.iD)("span",p,[(0,t.Wm)(h,{type:"rect",width:"120px"})])):((0,t.wg)(),(0,t.iD)("span",c,(0,s.zw)(a.formatPrice(a.salesSummaryData.paid_sales)),1))])]),(0,t._)("div",g,[b,(0,t._)("div",null,[a.loadingSalesSummary?((0,t.wg)(),(0,t.iD)("span",w,[(0,t.Wm)(h,{type:"rect",width:"120px"})])):((0,t.wg)(),(0,t.iD)("span",f,(0,s.zw)(a.formatPrice(a.salesSummaryData.credit_sales)),1))])])]),(0,t.Wm)(k,{class:"q-my-sm bg-grey"}),(0,t.Wm)(R,{flat:"",loading:a.loadingData,columns:a.tableColumns,rows:a.tableRows,pagination:{rowsPerPage:0},filter:a.tableFilter,title:"Sales","row-key":"id","table-header-class":"bg-primary text-white","no-data-label":"No sales available","loading-label":"Loading sales..."},{"top-right":(0,t.w5)((()=>[(0,t._)("div",y,[(0,t._)("div",null,[(0,t.Wm)(x,{dense:"",outlined:"",rounded:"",clearable:"",modelValue:a.tableFilter,"onUpdate:modelValue":e[0]||(e[0]=e=>a.tableFilter=e),label:"Search here ..."},{prepend:(0,t.w5)((()=>[(0,t.Wm)(D,{name:"search"})])),_:1},8,["modelValue"])]),a.permissionRequired("rooms","add_salesorder")?((0,t.wg)(),(0,t.iD)("div",S,[(0,t.Wm)(P,{"no-caps":"",rounded:"",color:"primary",label:"Add Sale",class:"q-px-xl",to:{name:"RoomBooking"}})])):(0,t.kq)("",!0)])])),"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(Z,{props:e},{default:(0,t.w5)((()=>[a.permissionRequired("rooms","view_sale")?((0,t.wg)(),(0,t.j4)(P,{key:0,round:"",color:"primary",icon:"arrow_forward",to:{name:"RoomsSalesDetails",params:{Id:e.row.id}}},null,8,["to"])):(0,t.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["loading","columns","rows","filter"])])),_:1})}var _=l(9302),q=l(499),h=l(4019),k=l(8221);const D=[{name:"id",label:"#",field:"id",sortable:!0,align:"left"},{name:"name",label:"Customer Name",field:a=>a.customer[0].name,sortable:!0,align:"left"},{name:"date",label:"Date",field:"date",sortable:!0,align:"left"},{name:"bill",label:"Bill",field:a=>(0,k.formatPrice)(a.bill),sortable:!0,align:"left"},{name:"paid",label:"Paid",field:a=>(0,k.formatPrice)(a.paid),sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",classes:a=>"OPEN"==a.status?"text-red-10":"CANCELLED"==a.status?"text-grey-10":"text-green-10",sortable:!0,align:"left"},{name:"actions",label:"Actions",align:"left"}],x=(0,t.aZ)({name:"RoomsSales",setup(){(0,_.Z)();const a=(0,q.iH)([]),e=(0,q.iH)(!1),l=(0,q.iH)(!0),s=(0,q.iH)({total_sales:0,paid_sales:0,credit_sales:0}),i=(0,q.iH)("");function o(){return e.value=!0,(0,h.getRoomsSales)().then((e=>{a.value=e.data})).finally((()=>{e.value=!1}))}function r(){l.value=!0,(0,h.getRoomSalesSummary)().then((a=>{s.value=a.data})).finally((()=>{l.value=!1}))}return(0,t.bv)((()=>{o().then((()=>{r()}))})),{tableRows:a,loadingData:e,tableFilter:i,tableColumns:D,loadingSalesSummary:l,salesSummaryData:s}}});var P=l(1639),Z=l(9885),R=l(7133),W=l(926),C=l(7355),Q=l(6611),H=l(2857),T=l(8879),F=l(7220),N=l(9984),j=l.n(N);const z=(0,P.Z)(x,[["render",v]]),A=z;j()(x,"components",{QPage:Z.Z,QSkeleton:R.ZP,QSeparator:W.Z,QTable:C.Z,QInput:Q.Z,QIcon:H.Z,QBtn:T.Z,QTd:F.Z})}}]);