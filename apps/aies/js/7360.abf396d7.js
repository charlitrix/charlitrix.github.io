"use strict";(globalThis["webpackChunkaies"]=globalThis["webpackChunkaies"]||[]).push([[7360],{7360:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var o=a(9835);const i=(0,o._)("div",{class:"text-h6"},"Printer Settings",-1),l={class:"column q-gutter-y-lg q-mx-lg q-mb-xl"},n=(0,o._)("div",{class:"q-py-md bg-grey-3 text-grey-10 q-px-md"}," Page Settings ",-1),r={class:"column q-ma-md q-gutter-y-md"},s=(0,o._)("div",{class:"q-mt-md"},"Header:",-1),d=(0,o._)("div",{class:"q-mt-md"},"Footer:",-1),u={class:"q-pt-lg"};function m(e,t,a,m,p,c){const g=(0,o.up)("q-separator"),f=(0,o.up)("q-select"),b=(0,o.up)("q-checkbox"),v=(0,o.up)("q-editor"),h=(0,o.up)("q-btn"),S=(0,o.up)("q-form"),V=(0,o.up)("q-spinner-ios"),q=(0,o.up)("q-inner-loading"),D=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(D,{class:"q-pa-lg"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(g,{class:"q-my-md"}),(0,o.Wm)(S,{ref:"printerSettingsForm",onSubmit:e.submitData},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o.Wm)(f,{modelValue:e.formData.item,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData.item=t),label:"Item",options:e.items},null,8,["modelValue","options"]),(0,o.Wm)(f,{"emit-value":"","map-options":"","input-debounce":"0",modelValue:e.formData.printer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.formData.printer=t),label:"Printer",options:e.existingPrinters,"option-value":"name","option-label":"displayName"},null,8,["modelValue","options"]),(0,o.Wm)(b,{modelValue:e.formData.automatic_printing,"onUpdate:modelValue":t[2]||(t[2]=t=>e.formData.automatic_printing=t),label:"Automatic printing"},null,8,["modelValue"]),(0,o._)("div",null,[n,(0,o._)("div",r,[(0,o.Wm)(b,{label:"Print Colored",modelValue:e.formData.colored,"onUpdate:modelValue":t[3]||(t[3]=t=>e.formData.colored=t)},null,8,["modelValue"]),(0,o.Wm)(f,{clearable:"",modelValue:e.formData.orientation,"onUpdate:modelValue":t[4]||(t[4]=t=>e.formData.orientation=t),label:"Orientation",options:e.orientationOptions},null,8,["modelValue","options"]),(0,o.Wm)(f,{clearable:"",label:"Page Size",modelValue:e.formData.pageSize,"onUpdate:modelValue":t[5]||(t[5]=t=>e.formData.pageSize=t),options:e.pageSizeOptions},null,8,["modelValue","options"]),s,(0,o.Wm)(v,{dense:"",modelValue:e.formData.header,"onUpdate:modelValue":t[6]||(t[6]=t=>e.formData.header=t),toolbar:e.toolbarOptions},null,8,["modelValue","toolbar"]),d,(0,o.Wm)(v,{dense:"",modelValue:e.formData.footer,"onUpdate:modelValue":t[7]||(t[7]=t=>e.formData.footer=t),toolbar:e.toolbarOptions},null,8,["modelValue","toolbar"]),(0,o._)("div",u,[(0,o.Wm)(h,{rounded:"",loading:e.submitting,color:"primary",label:e.id?"Update":"Submit",class:"full-width",type:"submit"},null,8,["loading","label"])])])])])])),_:1},8,["onSubmit"]),(0,o.Wm)(q,{showing:e.loadingData},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{size:"50px",color:"primary"})])),_:1},8,["showing"])])),_:1})}a(9665);var p=a(499),c=a(8221),g=a(4019),f=a(9302),b=a(8339);const v=(0,o.aZ)({name:"PrintersCreatePage",props:{id:{default:null}},setup(e){const t=(0,f.Z)(),a=(0,b.tv)(),i=(0,p.iH)({}),l=(0,p.iH)(!1),n=(0,p.iH)(null),r=(0,p.iH)(!1),s=(0,p.iH)({colored:!1,automatic_printing:!0,printer:null,header:"",footer:""}),d=(0,p.iH)([]),u=["reports","receipts","rooms receipts","bar and restaurant receipts","services receipts"],m=["landscape","potrait"],v=["A0","A1","A2","A3","A4","A5","A6","Legal","Letter","Tabloid"];function h(){}function S(){return(0,g.getGeneralSettings)("?name=PRINTERS").then((e=>{e.data.id&&(i.value=e.data)}))}function V(){return i.value.id?(0,g.updateGeneralSettings)(i.value.id,i.value):(0,g.createGeneralSettings)(i.value)}return(0,o.bv)((()=>{l.value=!0,h(),S().then((()=>{e.id&&(s.value={...i.value.details.items[e.id-1]})})).catch((e=>{})).finally((()=>{l.value=!1}))})),{loadingData:l,printerSettingsForm:n,items:u,submitting:r,formData:s,existingPrinters:d,orientationOptions:m,pageSizeOptions:v,toolbarOptions:[["left","center","right","justify"],["bold","italic","strike","underline","hr"],[{label:t.lang.editor.formatting,icon:t.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:t.lang.editor.fontSize,icon:t.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],submitData(){n.value.validate()&&t.dialog({title:"Confirm",message:"Please confirm?",cancel:!0}).onOk((()=>{e.id?i.value.details["items"][e.id-1]={...s.value}:i.value.id?i.value.details["items"].push({...s.value}):i.value={item:"PRINTERS",details:{items:[{...s.value}]}},r.value=!0,V().then((e=>{(0,c.displayNotification)(e.data,"positive"),a.push({name:"PrinterSettings"})})).catch((e=>{(0,c.displayNotification)(e.response.data,"negative")})).finally((()=>{r.value=!1}))}))}}}});var h=a(1639),S=a(9885),V=a(926),q=a(8326),D=a(4581),y=a(1221),z=a(424),P=a(8879),_=a(854),W=a(8359),x=a(9984),Z=a.n(x);const w=(0,h.Z)(v,[["render",m]]),O=w;Z()(v,"components",{QPage:S.Z,QSeparator:V.Z,QForm:q.Z,QSelect:D.Z,QCheckbox:y.Z,QEditor:z.Z,QBtn:P.Z,QInnerLoading:_.Z,QSpinnerIos:W.Z})}}]);