"use strict";(globalThis["webpackChunkaies"]=globalThis["webpackChunkaies"]||[]).push([[4670],{4670:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ve});var a=l(9835),n=l(6970);const i={key:0,class:"text-h6 q-mb-lg"},d={class:"text-italic text-subtitle q-mb-lg"},o={class:"row q-mb-lg"},u={class:"col-4"},r={class:"row items-center justify-end"},s={class:"row q-mb-lg justify-between"},c={class:"row justify-start"},m=(0,a._)("span",{class:"text-weight-bold"},"Balance: ",-1),p={key:0},y={key:1},_={class:"full-width"},v={class:"bg-grey-4"},g=(0,a._)("th",{class:"text-left"},"Account",-1),b=(0,a._)("th",{class:"text-left"},"Particulars",-1),f=(0,a._)("th",{class:"text-left"},"Comments",-1),w=(0,a._)("th",{class:"text-left"},"Debit",-1),D=(0,a._)("th",{class:"text-left"},"Credit",-1),E=(0,a._)("th",{class:"text-left"},"Actions",-1),C={key:0},k={key:1},h={key:0},q={class:"text-no-wrap"},V={key:0},W={class:"text-no-wrap"},x={key:0},T={key:0,class:"row no-wrap q-gutter-x-sm"},I={class:"q-py-xl"},R={class:"q-px-xl q-pb-xl q-pt-lg column q-col-gutter-y-lg"},F={class:"column q-col-gutter-y-xl q-mb-lg"};function A(e,t,l,A,H,U){const z=(0,a.up)("q-btn"),B=(0,a.up)("q-date"),Z=(0,a.up)("q-popup-proxy"),Q=(0,a.up)("q-field"),Y=(0,a.up)("q-markup-table"),L=(0,a.up)("q-form"),P=(0,a.up)("q-spinner-ios"),j=(0,a.up)("q-inner-loading"),O=(0,a.up)("q-page"),S=(0,a.up)("q-toolbar-title"),M=(0,a.up)("q-toolbar"),N=(0,a.up)("q-select"),K=(0,a.up)("q-item-label"),G=(0,a.up)("q-item-section"),J=(0,a.up)("q-item"),$=(0,a.up)("q-input"),X=(0,a.up)("q-radio"),ee=(0,a.up)("q-list"),te=(0,a.up)("q-card"),le=(0,a.up)("q-dialog"),ae=(0,a.Q2)("close-popup"),ne=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(O,{class:"q-pa-xl"},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{ref:"transactionForm",onSubmit:e.submitData},{default:(0,a.w5)((()=>[e.id?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",i,"New Transaction")),(0,a._)("div",d,[(0,a.Uk)(" Transaction "),(0,a._)("span",null,"# "+(0,n.zw)(e.id),1)]),(0,a._)("div",o,[(0,a._)("div",u,[(0,a.Wm)(Q,{class:"full-width",outlined:"","stack-label":"",label:"Date","lazy-rules":"ondemand",modelValue:e.trnDate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.trnDate=t),rules:e.textInputRequiredRules()},{control:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.trnDate),1)])),append:(0,a.w5)((()=>[(0,a.Wm)(z,{round:"",icon:"event",color:"primary",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"tnDateProxy"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{modelValue:e.trnDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.trnDate=t),mask:"DD/MM/YYYY"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.wy)((0,a.Wm)(z,{label:"Close",color:"primary",flat:""},null,512),[[ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])])]),(0,a._)("div",s,[(0,a._)("div",null,[(0,a.Wm)(z,{rounded:"",label:"Add Entry",color:"primary",onClick:e.addRow},null,8,["onClick"])]),(0,a._)("div",null,[e.tableRowsBackUp.length>0?((0,a.wg)(),(0,a.j4)(z,{key:0,"no-caps":"",outline:"",rounded:"",icon:"restore",label:"Restore",color:"primary",disabled:!e.restoreData,onClick:e.restorePreviousData},null,8,["disabled","onClick"])):(0,a.kq)("",!0)])]),(0,a._)("div",c,[(0,a._)("div",null,[m,e.trnBalance>=0?((0,a.wg)(),(0,a.iD)("span",p,(0,n.zw)(e.formatPrice(e.trnBalance)),1)):((0,a.wg)(),(0,a.iD)("span",y,"("+(0,n.zw)(e.formatPrice(e.trnBalance))+")",1))])]),(0,a.Wm)(Q,{outlined:"",modelValue:e.tableRows,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tableRows=t),"lazy-rules":"ondemand",rules:e.nonEmptyRequiredRules("Entries are required")},{control:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(Y,{flat:"",bordered:"",square:"","wrap-cells":"",dense:"",separator:"vertical"},{default:(0,a.w5)((()=>[(0,a._)("thead",v,[(0,a._)("tr",null,[g,b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.additionalFields,((e,t)=>((0,a.wg)(),(0,a.iD)("th",{key:t,class:"text-capitalize text-left"},(0,n.zw)(e.name),1)))),128)),f,w,D,E])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tableRows,((t,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[t.account&&t.account.id?((0,a.wg)(),(0,a.iD)("td",C,(0,n.zw)(t.account.name),1)):((0,a.wg)(),(0,a.iD)("td",k,(0,n.zw)(t.budget_item.name),1)),(0,a._)("td",null,(0,n.zw)(t.description),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.additionalFields,((e,l)=>((0,a.wg)(),(0,a.iD)("td",{key:l},[t.ledger_additional_fields[l]?((0,a.wg)(),(0,a.iD)("span",h,(0,n.zw)(t.ledger_additional_fields[l].value),1)):(0,a.kq)("",!0)])))),128)),(0,a._)("td",null,(0,n.zw)(t.comments),1),(0,a._)("td",q,["DEBIT"==t.entry_type?((0,a.wg)(),(0,a.iD)("span",V,(0,n.zw)(e.formatPrice(t.debit)),1)):(0,a.kq)("",!0)]),(0,a._)("td",W,["CREDIT"==t.entry_type?((0,a.wg)(),(0,a.iD)("span",x,(0,n.zw)(e.formatPrice(t.credit)),1)):(0,a.kq)("",!0)]),(0,a._)("td",null,[t.is_budget_entry?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("div",null,[(0,a.Wm)(z,{flat:"",dense:"",round:"",size:"sm",color:"primary",icon:"edit",onClick:t=>e.showEditTransaction(l)},null,8,["onClick"])]),(0,a._)("div",null,[(0,a.Wm)(z,{flat:"",dense:"",round:"",size:"sm",color:"red",icon:"delete",onClick:t=>e.deleteEntry(l),disabled:2==e.tableRows.length},null,8,["onClick","disabled"])])]))])])))),128))])])),_:1})])])),_:1},8,["modelValue","rules"]),(0,a._)("div",I,[(0,a.Wm)(z,{rounded:"",label:"Submit",class:"full-width",color:"primary",type:"submit",loading:e.submitting,disabled:e.trnBalance>0||e.trnBalance<0},null,8,["loading","disabled"])])])),_:1},8,["onSubmit"]),(0,a.Wm)(j,{dark:"",color:"primary",showing:e.loadingData},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{size:"50px",color:"white"})])),_:1},8,["showing"])])),_:1}),(0,a.Wm)(le,{modelValue:e.addEntryDialog,"onUpdate:modelValue":t[15]||(t[15]=t=>e.addEntryDialog=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(te,{flat:"",class:"q-mb-xl",style:{minWidth:"600px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{ref:"entryForm",onSubmit:e.addToTransaction},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{textContent:(0,n.zw)(e.updatingEntry?"Update Entry":"New Entry")},null,8,["textContent"]),(0,a.wy)((0,a.Wm)(z,{round:"",flat:"",icon:"close",onClick:e.resetAddEntryForm},null,8,["onClick"]),[[ae]])])),_:1}),(0,a._)("div",R,[(0,a._)("div",F,[(0,a.Wm)(N,{clearable:"",outlined:"","use-input":"","emit-value":"","map-options":"","input-debounce":"0",label:"Category",modelValue:e.selectedCategory,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.selectedCategory=t),e.getCategoryAccounts],loading:e.loadingAccountCategories,options:e.accountCategoriesFiltered,"option-label":e=>"NO_CATEGORY_AVAILABLE"==e.name?"Not Applicable":e.name,onFilter:e.filterAccountsCategories,"lazy-rules":"ondemand",rules:e.selectInputRequiredRules(e.accountCategoriesFiltered)},null,8,["modelValue","loading","options","option-label","onUpdate:modelValue","onFilter","rules"]),(0,a.Wm)(N,{"use-input":"",clearable:"","emit-value":"","map-options":"",outlined:"","input-debounce":"0",label:"Account",modelValue:e.ledgerEntry.account,"onUpdate:modelValue":t[4]||(t[4]=t=>e.ledgerEntry.account=t),options:e.accountsFiltered,"option-label":"name","option-value":"id",loading:e.loadingAccounts,onFilter:e.filterAccounts,"lazy-rules":"ondemand",rules:e.selectInputRequiredRules(e.accountsFiltered.map((e=>e.id)))},null,8,["modelValue","options","loading","onFilter","rules"]),(0,a.Wm)(N,{"map-options":"","emit-value":"",clearable:"","use-input":"",outlined:"",label:"Budget Item","input-debounce":"0",modelValue:e.ledgerEntry.secondary_entry.account,"onUpdate:modelValue":t[5]||(t[5]=t=>e.ledgerEntry.secondary_entry.account=t),"options-selected-class":"text-primary",options:e.budgetAccountsFiltered,"option-label":"name",onFilter:e.filterBudgetAccounts},{option:(0,a.w5)((e=>[(0,a.Wm)(J,(0,n.vs)((0,a.F4)(e.itemProps)),{default:(0,a.w5)((()=>[(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,{overline:""},{default:(0,a.w5)((()=>[(0,a.Uk)("#"+(0,n.zw)(e.opt.code),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.opt.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,a.w5)((()=>[(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"text-grey"},{default:(0,a.w5)((()=>[(0,a.Uk)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"]),(0,a.Wm)($,{outlined:"",rows:"3",modelValue:e.ledgerEntry.description,"onUpdate:modelValue":t[6]||(t[6]=t=>e.ledgerEntry.description=t),label:"Description",type:"textarea",placholder:"A description or particulars about entry","lazy-rules":"ondemand",rules:e.textInputRequiredRules()},null,8,["modelValue","rules"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.ledgerEntry.ledger_additional_fields,((e,t)=>((0,a.wg)(),(0,a.j4)($,{outlined:"",key:t,label:e.label,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,a.Wm)($,{outlined:"",modelValue:e.ledgerEntry.comments,"onUpdate:modelValue":t[7]||(t[7]=t=>e.ledgerEntry.comments=t),label:"Comments",type:"textarea",rows:"3"},null,8,["modelValue"]),(0,a.Wm)(Q,{outlined:"",modelValue:e.ledgerEntry.entry_type,"onUpdate:modelValue":t[14]||(t[14]=t=>e.ledgerEntry.entry_type=t),"lazy-rules":"ondemand",rules:e.textInputRequiredRules()},{control:(0,a.w5)((()=>[(0,a.Wm)(ee,{padding:"",class:"q-my-md"},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(J,{tag:"label",clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(X,{modelValue:e.ledgerEntry.entry_type,"onUpdate:modelValue":t[8]||(t[8]=t=>e.ledgerEntry.entry_type=t),val:"DEBIT",color:"green"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Debit")])),_:1}),(0,a.Wm)($,{outlined:"",modelValue:e.ledgerEntry.debit,"onUpdate:modelValue":t[9]||(t[9]=t=>e.ledgerEntry.debit=t),modelModifiers:{number:!0},onClick:t[10]||(t[10]=t=>e.ledgerEntry.entry_type="DEBIT"),type:"number","lazy-rules":"ondemand",rules:[t=>"DEBIT"!=e.ledgerEntry.entry_type||(t>0&&null!==t&&""!==t||"Field is required")]},null,8,["modelValue","rules"])])),_:1})])),_:1})),[[ne]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(J,{tag:"label",clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(X,{modelValue:e.ledgerEntry.entry_type,"onUpdate:modelValue":t[11]||(t[11]=t=>e.ledgerEntry.entry_type=t),val:"CREDIT",color:"red"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Credit")])),_:1}),(0,a.Wm)($,{outlined:"",modelValue:e.ledgerEntry.credit,"onUpdate:modelValue":t[12]||(t[12]=t=>e.ledgerEntry.credit=t),modelModifiers:{number:!0},onClick:t[13]||(t[13]=t=>e.ledgerEntry.entry_type="CREDIT"),type:"number","lazy-rules":"ondemand",rules:[t=>"CREDIT"!=e.ledgerEntry.entry_type||(t>0&&null!==t&&""!==t||"Field is required")]},null,8,["modelValue","rules"])])),_:1})])),_:1})),[[ne]])])),_:1})])),_:1},8,["modelValue","rules"]),(0,a._)("div",null,[(0,a.Wm)(z,{color:"primary",class:"full-width",label:e.updatingEntry?"Update":"Add",type:"submit"},null,8,["label"])])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])],64)}l(9665);var H=l(499),U=l(9302),z=l(4170),B=l(1353),Z=l(1809),Q=l(8221),Y=l(4019),L=l(8339);const P=(0,a.aZ)({name:"EntriesTransactionForm",props:{id:{default:null}},setup(e){const t=(0,U.Z)(),l=(0,L.tv)(),n=(0,B.F)(),{fiscalYear:i}=(0,Z.Jk)(n),d=(0,H.iH)([]),o=(0,H.iH)([]),u=(0,H.iH)([]),r=(0,H.iH)(!1),s=(0,H.iH)(!1),c=(0,H.iH)(!1),m=(0,H.iH)(!1),p=(0,H.iH)(z.ZP.formatDate(new Date,"DD/MM/YYYY")),y=(0,H.iH)({description:"",comments:"",account:null,secondary_entry:{account:null},entry_type:null,debit:"",credit:"",ledger_additional_fields:[]}),_=(0,H.iH)({...y.value}),v=(0,H.iH)([]),g=(0,H.iH)([]),b=(0,H.iH)([]),f=(0,H.iH)([]),w=(0,H.iH)(!1),D=(0,H.iH)([]),E=(0,H.iH)([]),C=(0,H.iH)(!1),k=(0,H.iH)(null),h=(0,H.iH)(0),q=(0,H.iH)({}),V=(0,H.iH)(!1),W=(0,H.iH)(null),x=(0,H.iH)(null),T=(0,H.iH)(null),I=(0,H.iH)(null);function R(){return(0,Y.getFiscalYearFeatureSettings)(i.value.id,"?item=LEDGERS").then((e=>{e.data.enabled||t.dialog({title:"Attention!!!",message:"Please enable ledger settings to access this page",noEscDismiss:!0,noBackdropDismiss:!0,persistent:!0}).onOk((()=>{l.push({name:"DocumentSettings"})})),e.data.enabled&&e.data.details.fields&&(d.value=e.data.details.fields,y.value.ledger_additional_fields=d.value.map((e=>({label:e.name,value:""}))),P())}))}function F(){return C.value=!0,(0,Y.getFiscalYearAccountCategories)(i.value.id,"").then((e=>{D.value=e.data,E.value=e.data})).finally((()=>{C.value=!1}))}function A(){return(0,Y.getFiscalYearAccounts)(i.value.id,"?category=Budget Items").then((e=>{v.value=e.data,g.value=e.data}))}function P(){V.value&&(V.value=!1,W.value=null,x.value=null,_.value=(0,Q.objectCopy)(y.value))}function j(e){return null==e||""==e?(b.value=[],void(f.value=[])):(w.value=!0,(0,Y.getFiscalYearAccounts)(i.value.id,`?category=${e.name}`).then((e=>{b.value=e.data,f.value=e.data})).finally((()=>{w.value=!1})))}function O(){s.value=!0,(0,Y.getTransactions)("/"+e.id).then((e=>{q.value=e.data,p.value=e.data.date_created,o.value=e.data.journals.map((e=>({is_budget_entry:e.is_budget_entry,description:e.description,comments:e.description,account:e.account,entry_type:e.entry_type,debit:"DEBIT"==e.entry_type?Math.abs(e.amount):"",credit:"CREDIT"==e.entry_type?Math.abs(e.amount):"",ledger_additional_fields:e.additional_data.ledger_additional_fields?e.additional_data.ledger_additional_fields.map((e=>({...e}))):[]}))),u.value=(0,Q.objectCopy)(o.value)})).finally((()=>{s.value=!1}))}function S(){let e=o.value.map((e=>({account:e.account.id,description:e.description,comments:e.comments,additional_data:{ledger_additional_fields:e.ledger_additional_fields},entry_type:e.entry_type,amount:"DEBIT"==e.entry_type?e.debit:"CREDIT"==e.entry_type?e.credit:0})));return(0,Y.createAccountsJournals)({date:p.value,entries:e})}function M(){let t=o.value.map((e=>({account:e.account.id,description:e.description,comments:e.comments,additional_data:{ledger_additional_fields:e.ledger_additional_fields},entry_type:e.entry_type,amount:"DEBIT"==e.entry_type?e.debit:"CREDIT"==e.entry_type?e.credit:0})));return(0,Y.updateTransaction)(e.id,{date_created:p.value,journals:t})}function N(){return e.id?M():S()}function K(){let e=["DEBIT","CREDIT"].filter((e=>e!=_.value.entry_type))[0],t=_.value.debit>0?_.value.debit:_.value.credit,l=o.value.findIndex((l=>1==l.is_budget_entry&&l.entry_type==e&&l[e.toLocaleLowerCase()]==t)),a=-1!=l?o.value[l]:null;a||(l=o.value.findIndex((l=>1==l.is_budget_entry&&l[e.toLocaleLowerCase()]==t)),a=-1!=l?o.value[l]:null),a&&(_.value.secondary_entry.account=g.value.find((e=>e.id==a.account.id)),x.value=l)}function G(){const t=new Object;if(t.account=f.value.find((e=>e.id==_.value.account)),t.comments=_.value.comments,t.entry_type=_.value.entry_type,t.credit="CREDIT"==t.entry_type?_.value.credit:"",t.debit="DEBIT"==t.entry_type?_.value.debit:"",t.description=_.value.description,t.is_budget_entry=!1,t.ledger_additional_fields=(0,Q.objectCopy)(_.value.ledger_additional_fields),t.secondary_entry=_.value.secondary_entry,t.account.accountcategory=k.value,t.secondary_entry.account){t.connection=t.account.id+"-"+t.secondary_entry.account.id;const e=t.secondary_entry.account.accounttype.increase,l=Math.abs(t.debit>0?t.debit:t.credit>0?t.credit:0),a=new Object;a.account=t.secondary_entry.account,a.connection=t.account.id+"-"+t.secondary_entry.account.id,a.description=t.description,a.comments=t.comments,a.entry_type=e,a.debit="DEBIT"==e?l:"",a.credit="CREDIT"==e?l:"",a.ledger_additional_fields=(0,Q.objectCopy)(t.ledger_additional_fields),a.is_budget_entry=!0,null!=W.value&&W.value>=0?o.value[W.value]=t:o.value.push(t),null!=x.value&&x.value>=0?o.value[x.value]=a:o.value.push(a)}else null!=W.value&&W.value>=0?o.value[W.value]=t:o.value.push(t);c.value=!1,V.value=!0,P(),e.id&&(r.value=!0)}return(0,a.m0)((()=>{h.value=o.value.reduce(((e,t)=>e+(t.debit&&t.debit>0?t.debit:0)),0)-o.value.reduce(((e,t)=>e+(t.credit&&t.credit>0?t.credit:0)),0)})),(0,a.bv)((()=>{e.id&&O(),R().then((()=>{F().then((()=>{A()}))}))})),{additionalFields:d,submitting:m,loadingData:s,tableRows:o,tableRowsBackUp:u,restoreData:r,trnDate:p,addEntryDialog:c,ledgerEntry:_,budgetAccountsFiltered:g,accountsFiltered:f,accountCategoriesFiltered:E,loadingAccountCategories:C,selectedCategory:k,loadingAccounts:w,trnBalance:h,updatingEntry:V,getCategoryAccounts:j,transactionForm:T,entryForm:I,resetAddEntryForm:P,addRow(){c.value=!0},restorePreviousData(){o.value=(0,Q.objectCopy)(u.value),r.value=!1},deleteEntry(l){t.dialog({title:"Confirm",message:"Please confirm?",cancel:!0}).onOk((()=>{e.id&&(r.value=!0);let t={...o.value[l]};_.value={entry_type:t.entry_type,debit:t.debit,credit:t.credit,secondary_entry:{account:null}},K(),null!=x.value&&x.value>=0&&o.value.splice(x.value,1),o.value.splice(l,1),V.value=!0,P()}))},addToTransaction(){I.value.validate().then((e=>{e&&(G(),T.value.resetValidation())}))},showEditTransaction(e){const t={...o.value[e]};k.value=E.value.find((e=>e.id==t.account.accountcategory.id)),j(k.value),_.value={account:t.account.id,secondary_entry:{account:null},description:t.description,comments:t.comments,entry_type:t.entry_type,debit:t.debit,credit:t.credit,ledger_additional_fields:t.additional_data?t.additional_data.ledger_additional_fields?t.additional_data.ledger_additional_fields.map((e=>({...e}))):d.value.map((e=>({label:e.name,value:""}))):t.ledger_additional_fields?t.ledger_additional_fields.map((e=>({...e}))):d.value.map((e=>({label:e.name,value:""})))},K(),V.value=!0,c.value=!0,W.value=e},filterBudgetAccounts(e,t){t(""!==e?()=>{const t=e.toLowerCase();g.value=v.value.filter((e=>e.code.toLowerCase().indexOf(t)>-1||e.name.toLowerCase().indexOf(t)>-1))}:()=>{g.value=v.value})},filterAccountsCategories(e,t){t(""!==e?()=>{let t=e.toLowerCase();E.value=D.value.filter((e=>e.name.toLowerCase().indexOf(t)>-1))}:()=>{E.value=D.value})},filterAccounts(e,t){t(""!==e?()=>{let t=e.toLowerCase();f.value=b.value.filter((e=>e.name.toLowerCase().indexOf(t)>-1))}:()=>{f.value=b.value})},submitData(){T.value.validate().then((e=>{e&&t.dialog({title:"Confirm",message:"Please confirm?",cancel:!0}).onOk((()=>{m.value=!0,N().then((e=>{(0,Q.displayNotification)(e.data,"positive"),o.value=[],T.value.resetValidation(),l.push({name:"Ledgers"})})).catch((e=>{(0,Q.displayNotification)(e.response.data,"negative")})).finally((()=>{m.value=!1}))}))}))}}}});var j=l(1639),O=l(9885),S=l(8326),M=l(8149),N=l(8879),K=l(2765),G=l(4351),J=l(6933),$=l(854),X=l(8359),ee=l(2074),te=l(4458),le=l(1663),ae=l(1973),ne=l(4581),ie=l(490),de=l(1233),oe=l(3115),ue=l(6611),re=l(3246),se=l(1480),ce=l(2146),me=l(1136),pe=l(9984),ye=l.n(pe);const _e=(0,j.Z)(P,[["render",A]]),ve=_e;ye()(P,"components",{QPage:O.Z,QForm:S.Z,QField:M.Z,QBtn:N.Z,QPopupProxy:K.Z,QDate:G.Z,QMarkupTable:J.Z,QInnerLoading:$.Z,QSpinnerIos:X.Z,QDialog:ee.Z,QCard:te.Z,QToolbar:le.Z,QToolbarTitle:ae.Z,QSelect:ne.Z,QItem:ie.Z,QItemSection:de.Z,QItemLabel:oe.Z,QInput:ue.Z,QList:re.Z,QRadio:se.Z}),ye()(P,"directives",{ClosePopup:ce.Z,Ripple:me.Z})}}]);